{"ast":null,"code":"var _jsxFileName = \"/Users/chchen/Andy\\u66AB\\u5B58/React_SideProject/TravelList/src/inputArea/InputArea.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef, useReducer, useEffect, useContext } from \"react\";\nimport { initializeApp } from 'firebase/app';\nimport AuthContext from \"../store/Auth-context\";\nimport classes from \"./InputArea.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst inputReducer = (state, action) => {\n  if (action.type === 'travelName') {\n    return {\n      travelNameValue: action.value\n    };\n  }\n\n  if (action.type === 'location') {\n    return {\n      locationValue: action.value\n    };\n  }\n\n  if (action.type === 'date') {\n    return {\n      dateValue: action.value\n    };\n  }\n\n  if (action.type === 'text') {\n    return {\n      textValue: action.value\n    };\n  }\n\n  if (action.type === 'clean') {\n    return {\n      locationValue: \"\",\n      textValue: \"\"\n    };\n  }\n\n  if (action.type === 'all') {\n    return {\n      locationValue: action.valueLocation,\n      textValue: action.valueText,\n      dateValue: action.valueDate\n    };\n  }\n};\n\nlet gps = {};\n\nconst InputArea = props => {\n  _s();\n\n  const [travelInfo, setTravelInfo] = useState(null);\n  const [errorPop, setErrorPop] = useState(false);\n  const [oldDataState, setOldData] = useState(false);\n  const [errorLogin, setErrorLogin] = useState(false);\n  const [newMarkerState, setNewMarker] = useState(false); // const [enteredLoca, setEnteredLoca] = useState('');\n  // const [enteredText,setEnteredText] = useState('');\n  // const [enteredDate,setEnteredDate] = useState('');\n\n  const authCtx = useContext(AuthContext);\n  const travelNameInputRef = useRef();\n  const locationInputRef = useRef();\n  const dateInputRef = useRef();\n  const textInputRef = useRef();\n  const [inputState, dispatchInput] = useReducer(inputReducer, {\n    travelNameValue: \"\",\n    locationValue: \"\",\n    dateValue: \"\",\n    textValue: \"\"\n  });\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    console.log(\"submit\");\n    console.log(Object.keys(gps).length);\n    console.log(Object.keys(gps));\n\n    if (!locationInputRef.current.value || !dateInputRef.current.value || !textInputRef.current.value || !Object.keys(gps).length || !authCtx.isLoggedIn) {\n      if (!authCtx.isLoggedIn) {\n        setErrorLogin(true); //not login\n      } else {\n        setErrorPop(true);\n        console.log(\"error\");\n      }\n    } else {\n      console.log('else else');\n      setTravelInfo({\n        location: locationInputRef.current.value,\n        date: dateInputRef.current.value,\n        text: textInputRef.current.value\n      });\n      const res = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${gps.lat},${gps.lng}&language=en-US&key=AIzaSyAR3-8wOXn2f7NcmF4cOF6xkTHqH5bJpqY` // \"https://maps.googleapis.com/maps/api/geocode/json?latlng=50.08906167443343,14.422259330749512&language=zh-TW&key=AIzaSyAR3-8wOXn2f7NcmF4cOF6xkTHqH5bJpqY\"\n      );\n      let data = await res.json(); //data = data.plus_code.compound_code.split(\" \");\n\n      const img = Math.floor(Math.random() * 10); //send the input data to App.js for saving \n\n      console.log(\"all data ------\");\n      console.log(locationInputRef.current.value + \" \" + dateInputRef.current.value + ' ' + gps.lat + \" \" + gps.lng + ' ' + ' ' + img + ' ' + data.plus_code.compound_code + ' ' + textInputRef.current.value);\n      props.onInputData({\n        location: locationInputRef.current.value,\n        date: dateInputRef.current.value,\n        gps: gps,\n        img: img,\n        cityName: data.plus_code.compound_code,\n        // gps: props.info ? props.info.gps : props.newMarker,\n        text: textInputRef.current.value\n      });\n      dispatchInput({\n        type: 'clean'\n      });\n      setErrorPop(false);\n      setNewMarker(false);\n      setOldData(false);\n      props.onClear('GPS'); // gps={};\n\n      console.log(\"submit else\");\n    }\n\n    console.log('end edn');\n  };\n\n  const enterTravelNameHandler = e => {\n    // setEnteredLoca(e.target.value);\n    dispatchInput({\n      type: \"travelName\",\n      value: e.target.value\n    });\n  };\n\n  const enterLocationHandler = e => {\n    // setEnteredLoca(e.target.value);\n    dispatchInput({\n      type: \"location\",\n      value: e.target.value\n    });\n  };\n\n  const enterTextHandler = e => {\n    // setEnteredText(e.target.value);\n    dispatchInput({\n      type: \"text\",\n      value: e.target.value\n    });\n    console.log('enterTextHandler');\n  };\n\n  const enterDateHandler = e => {\n    // setEnteredDate(e.target.value);\n    dispatchInput({\n      type: \"date\",\n      value: e.target.value\n    });\n  };\n\n  const deleteHandler = () => {\n    props.onDelete({\n      location: locationInputRef.current.value,\n      date: dateInputRef.current.value,\n      gps: gps,\n      // gps: props.info ? props.info.gps : props.newMarker,\n      text: textInputRef.current.value\n    });\n    dispatchInput({\n      type: 'clean'\n    });\n    setErrorPop(false);\n    setNewMarker(false);\n    setOldData(false);\n  };\n\n  const handleChange = event => {// setFile(event.target.files[0]);\n  };\n\n  useEffect(() => {\n    if (Object.keys(props.info).length > 0) {\n      //for edit the old data, set the info into the input field\n      dispatchInput({\n        type: \"all\",\n        valueLocation: props.info.location,\n        valueText: props.info.text,\n        valueDate: props.info.date\n      });\n      gps = props.info.gps;\n      props.onClear('INFO');\n      console.log(props.info);\n      console.log('info');\n      setOldData(true);\n      setNewMarker(false);\n    }\n  }, [props.info]);\n  useEffect(() => {\n    console.log(\"useEffect\");\n    console.log(props.newMarker);\n    gps = props.newMarker;\n    console.log('newMarker');\n    setOldData(false);\n    setNewMarker(true);\n  }, [props.newMarker]); // if(Object.keys(props.info).length > 0 && oldDataState){\n  //   dispatchInput({type:\"all\",valueLocation:props.info.location, valueText:props.info.text, valueDate:props.info.date});\n  //   props.onClear('INFO');\n  //   setOldData(false);\n  // }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.block,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u65B0\\u589E\\u5730\\u9EDE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text\",\n            id: \"inputGroup-sizing-default\",\n            children: \"\\u5730\\u9EDELocaiton\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"location\",\n            \"aria-label\": \"Sizing example input\",\n            \"aria-describedby\": \"inputGroup-sizing-default\",\n            ref: locationInputRef,\n            onChange: enterLocationHandler,\n            value: inputState.locationValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text\",\n            id: \"inputGroup-sizing-default\",\n            children: \"Date\\u65E5\\u671F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"form-control\",\n            \"aria-label\": \"Sizing example input\",\n            \"aria-describedby\": \"inputGroup-sizing-default\",\n            ref: dateInputRef,\n            onChange: enterDateHandler,\n            value: inputState.dateValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"text\",\n            className: \"form-label\",\n            children: \"Note\\u8A3B\\u8A18\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control\",\n            id: \"text\",\n            rows: \"3\",\n            ref: textInputRef,\n            onChange: enterTextHandler,\n            value: inputState.textValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 9\n        }, this), !oldDataState && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark\",\n          children: \"\\u65B0\\u589E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 27\n        }, this), oldDataState && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark\",\n          children: \"\\u4FEE\\u6539\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 26\n        }, this), oldDataState && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.deletediv,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-dark\",\n            type: \"button\",\n            onClick: deleteHandler,\n            children: \"\\u522A\\u9664\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), errorPop && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u8ACB\\u8F38\\u5165\\u5730\\u9EDE/\\u65E5\\u671F/\\u6A19\\u8A18\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 7\n      }, this), travelInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), travelInfo.location, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 33\n        }, this), travelInfo.date, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 29\n        }, this), travelInfo.text]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(InputArea, \"ga7k9DjFPLH93CS51ZioW/VGoeg=\");\n\n_c = InputArea;\nexport default InputArea;\n\nvar _c;\n\n$RefreshReg$(_c, \"InputArea\");","map":{"version":3,"names":["useState","useRef","useReducer","useEffect","useContext","initializeApp","AuthContext","classes","inputReducer","state","action","type","travelNameValue","value","locationValue","dateValue","textValue","valueLocation","valueText","valueDate","gps","InputArea","props","travelInfo","setTravelInfo","errorPop","setErrorPop","oldDataState","setOldData","errorLogin","setErrorLogin","newMarkerState","setNewMarker","authCtx","travelNameInputRef","locationInputRef","dateInputRef","textInputRef","inputState","dispatchInput","submitHandler","e","preventDefault","console","log","Object","keys","length","current","isLoggedIn","location","date","text","res","fetch","lat","lng","data","json","img","Math","floor","random","plus_code","compound_code","onInputData","cityName","onClear","enterTravelNameHandler","target","enterLocationHandler","enterTextHandler","enterDateHandler","deleteHandler","onDelete","handleChange","event","info","newMarker","block","deletediv"],"sources":["/Users/chchen/Andy暫存/React_SideProject/TravelList/src/inputArea/InputArea.js"],"sourcesContent":["import { useState, useRef,useReducer,useEffect,useContext } from \"react\";\nimport { initializeApp } from 'firebase/app';\nimport AuthContext from \"../store/Auth-context\";\n\nimport classes from \"./InputArea.module.css\";\n\nconst inputReducer = (state, action)=> {\n  if(action.type === 'travelName'){\n    return {travelNameValue:action.value}\n  }\n  if(action.type === 'location'){\n    return {locationValue:action.value}\n  }\n  if(action.type === 'date'){\n    return {dateValue: action.value}\n  }\n  if(action.type === 'text'){\n    return {textValue: action.value}\n  }\n  if(action.type === 'clean'){\n    return{locationValue:\"\", textValue:\"\"}\n  }\n  if(action.type === 'all'){\n    return{locationValue:action.valueLocation, textValue:action.valueText, dateValue:action.valueDate};\n  }\n}\nlet gps={};\n\n\nconst InputArea = (props) => {\n  const [travelInfo, setTravelInfo] = useState(null);\n  const [errorPop, setErrorPop] = useState(false);\n  const [oldDataState, setOldData] = useState(false);\n  const [errorLogin, setErrorLogin] = useState(false)\n  const [newMarkerState, setNewMarker]  = useState(false);\n  // const [enteredLoca, setEnteredLoca] = useState('');\n  // const [enteredText,setEnteredText] = useState('');\n  // const [enteredDate,setEnteredDate] = useState('');\n  const authCtx = useContext(AuthContext);\n  const travelNameInputRef = useRef();\n  const locationInputRef = useRef();\n  const dateInputRef = useRef();\n  const textInputRef = useRef();\n  const [inputState, dispatchInput] = useReducer(inputReducer,{\n    travelNameValue:\"\",\n    locationValue:\"\",\n    dateValue:\"\",\n    textValue:\"\",\n  });\n  \n  const submitHandler = async(e) => {\n    e.preventDefault();\n    console.log(\"submit\");\n    console.log(Object.keys(gps).length);\n    console.log(Object.keys(gps));\n    \n    if (\n      !locationInputRef.current.value ||\n      !dateInputRef.current.value ||\n      !textInputRef.current.value ||\n      !Object.keys(gps).length ||\n      !authCtx.isLoggedIn\n    ) {\n      if(!authCtx.isLoggedIn){\n        setErrorLogin(true);\n        //not login\n      }else{\n        setErrorPop(true);\n        console.log(\"error\");\n      }\n      \n    } else {\n      console.log('else else');\n      setTravelInfo({\n        location: locationInputRef.current.value,\n        date: dateInputRef.current.value,\n        text: textInputRef.current.value,\n      });\n      const res = await fetch(\n        `https://maps.googleapis.com/maps/api/geocode/json?latlng=${gps.lat},${gps.lng}&language=en-US&key=AIzaSyAR3-8wOXn2f7NcmF4cOF6xkTHqH5bJpqY`\n        // \"https://maps.googleapis.com/maps/api/geocode/json?latlng=50.08906167443343,14.422259330749512&language=zh-TW&key=AIzaSyAR3-8wOXn2f7NcmF4cOF6xkTHqH5bJpqY\"\n      )\n      \n      let data = await res.json();\n      //data = data.plus_code.compound_code.split(\" \");\n      const img = Math.floor(Math.random() * 10)\n        //send the input data to App.js for saving \n      console.log(\"all data ------\");\n      console.log(locationInputRef.current.value+\" \"+dateInputRef.current.value+' '+ gps.lat+\" \"+gps.lng+' '  + ' ' + img + ' '+data.plus_code.compound_code+ ' '+ textInputRef.current.value)   \n      props.onInputData({ \n      location: locationInputRef.current.value,\n      date: dateInputRef.current.value,\n      gps: gps,\n      img:img,\n      cityName:data.plus_code.compound_code,\n      // gps: props.info ? props.info.gps : props.newMarker,\n      text: textInputRef.current.value,\n      });\n      \n      \n      \n      dispatchInput({type:'clean'})\n      setErrorPop(false);\n      setNewMarker(false);\n      setOldData(false);\n      props.onClear('GPS');\n      // gps={};\n      console.log(\"submit else\");\n    }\n    console.log('end edn');\n  };\n  const enterTravelNameHandler = (e)=>{\n    // setEnteredLoca(e.target.value);\n    dispatchInput({type:\"travelName\",value:e.target.value});\n    \n  }\n\n  const enterLocationHandler = (e)=>{\n    // setEnteredLoca(e.target.value);\n    dispatchInput({type:\"location\",value:e.target.value});\n    \n  }\n  const enterTextHandler = (e)=> {\n    // setEnteredText(e.target.value);\n    dispatchInput({type:\"text\",value:e.target.value});\n    console.log('enterTextHandler');\n  }\n  \n  const enterDateHandler = (e) => {\n    // setEnteredDate(e.target.value);\n    dispatchInput({type:\"date\",value:e.target.value});\n  }\n\n  const deleteHandler = () => {\n    props.onDelete({ \n      location: locationInputRef.current.value,\n      date: dateInputRef.current.value,\n      gps: gps,\n      // gps: props.info ? props.info.gps : props.newMarker,\n      text: textInputRef.current.value,\n    }) \n    dispatchInput({type:'clean'})\n    setErrorPop(false);\n    setNewMarker(false);\n    setOldData(false);\n      \n  }\n  \n  const handleChange = (event)=>{\n    // setFile(event.target.files[0]);\n  }\n\n  useEffect(() => {\n    if (Object.keys(props.info).length > 0) {\n      //for edit the old data, set the info into the input field\n      dispatchInput({type:\"all\",valueLocation:props.info.location, valueText:props.info.text, valueDate:props.info.date});\n      gps = props.info.gps;\n      \n      props.onClear('INFO');\n      console.log(props.info);\n      console.log('info');\n      setOldData(true);\n      setNewMarker(false);\n    }\n  },[props.info]);\n\n  useEffect(()=> {\n    console.log(\"useEffect\");\n    console.log(props.newMarker);\n    gps = props.newMarker;\n    console.log('newMarker');\n    setOldData(false);\n    setNewMarker(true);\n    \n  },[props.newMarker])\n  // if(Object.keys(props.info).length > 0 && oldDataState){\n  //   dispatchInput({type:\"all\",valueLocation:props.info.location, valueText:props.info.text, valueDate:props.info.date});\n  //   props.onClear('INFO');\n  //   setOldData(false);\n  // }\n  \n  return (\n    <>\n    \n    <div className={classes.block}>\n    <h3>新增地點</h3>\n      <form onSubmit={submitHandler}>\n      <div className=\"input-group mb-3\">\n          {/* <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">\n            行程名稱\n          </span>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id='travelName'\n            aria-label=\"Sizing example input\"\n            aria-describedby=\"inputGroup-sizing-default\"\n            placeholder=\"為你的旅程取名\"\n            ref={travelNameInputRef}\n            onChange={enterTravelNameHandler}\n            value={inputState.travelNameValue}\n          /> */}\n        </div>\n        <div className=\"input-group mb-3\">\n          <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">\n            地點Locaiton\n          </span>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id='location'\n            aria-label=\"Sizing example input\"\n            aria-describedby=\"inputGroup-sizing-default\"\n            ref={locationInputRef}\n            onChange={enterLocationHandler}\n            value={inputState.locationValue}\n          />\n        </div>\n        <div className=\"input-group mb-3\">\n          <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">\n            Date日期\n          </span>\n          <input\n            type=\"date\"\n            className=\"form-control\"\n            aria-label=\"Sizing example input\"\n            aria-describedby=\"inputGroup-sizing-default\"\n            ref={dateInputRef}\n            onChange={enterDateHandler}\n            value={inputState.dateValue}\n          />\n        </div>\n        <div className=\"mb-3\">\n          \n          <label for=\"text\" className=\"form-label\">\n            Note註記\n          </label>\n          <textarea\n            className=\"form-control\"\n            id=\"text\"\n            rows=\"3\"\n            ref={textInputRef}\n            onChange={enterTextHandler}\n            value={inputState.textValue}\n          ></textarea>\n        </div>\n        {/* {console.log(\"return gps =\"+gps)} */}\n        {!oldDataState && <button className=\"btn btn-dark\">新增</button>}\n        {oldDataState && <button className=\"btn btn-dark\">修改</button>}\n        \n        { oldDataState &&\n          <div className={classes.deletediv}>\n           <button className=\"btn btn-dark\" type=\"button\" onClick={deleteHandler} >刪除</button>\n          </div>\n          }\n        {errorPop && <p>請輸入地點/日期/標記</p>}\n        {/* <div>\n            <input type=\"file\" accept=\"image/*\" onChange={handleChange}/>\n            <button>Upload to Firebase</button>\n        </div> */}\n      </form>\n      {travelInfo && (\n        <div>\n          \n          <br />\n          {travelInfo.location} <br />\n          {travelInfo.date} <br />\n          {travelInfo.text}\n        </div>\n      )}\n    </div>\n    </>\n  );\n};\n\nexport default InputArea;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,MAAnB,EAA0BC,UAA1B,EAAqCC,SAArC,EAA+CC,UAA/C,QAAiE,OAAjE;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AAEA,OAAOC,OAAP,MAAoB,wBAApB;;;;AAEA,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;EACrC,IAAGA,MAAM,CAACC,IAAP,KAAgB,YAAnB,EAAgC;IAC9B,OAAO;MAACC,eAAe,EAACF,MAAM,CAACG;IAAxB,CAAP;EACD;;EACD,IAAGH,MAAM,CAACC,IAAP,KAAgB,UAAnB,EAA8B;IAC5B,OAAO;MAACG,aAAa,EAACJ,MAAM,CAACG;IAAtB,CAAP;EACD;;EACD,IAAGH,MAAM,CAACC,IAAP,KAAgB,MAAnB,EAA0B;IACxB,OAAO;MAACI,SAAS,EAAEL,MAAM,CAACG;IAAnB,CAAP;EACD;;EACD,IAAGH,MAAM,CAACC,IAAP,KAAgB,MAAnB,EAA0B;IACxB,OAAO;MAACK,SAAS,EAAEN,MAAM,CAACG;IAAnB,CAAP;EACD;;EACD,IAAGH,MAAM,CAACC,IAAP,KAAgB,OAAnB,EAA2B;IACzB,OAAM;MAACG,aAAa,EAAC,EAAf;MAAmBE,SAAS,EAAC;IAA7B,CAAN;EACD;;EACD,IAAGN,MAAM,CAACC,IAAP,KAAgB,KAAnB,EAAyB;IACvB,OAAM;MAACG,aAAa,EAACJ,MAAM,CAACO,aAAtB;MAAqCD,SAAS,EAACN,MAAM,CAACQ,SAAtD;MAAiEH,SAAS,EAACL,MAAM,CAACS;IAAlF,CAAN;EACD;AACF,CAnBD;;AAoBA,IAAIC,GAAG,GAAC,EAAR;;AAGA,MAAMC,SAAS,GAAIC,KAAD,IAAW;EAAA;;EAC3B,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BxB,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACyB,QAAD,EAAWC,WAAX,IAA0B1B,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAAC2B,YAAD,EAAeC,UAAf,IAA6B5B,QAAQ,CAAC,KAAD,CAA3C;EACA,MAAM,CAAC6B,UAAD,EAAaC,aAAb,IAA8B9B,QAAQ,CAAC,KAAD,CAA5C;EACA,MAAM,CAAC+B,cAAD,EAAiBC,YAAjB,IAAkChC,QAAQ,CAAC,KAAD,CAAhD,CAL2B,CAM3B;EACA;EACA;;EACA,MAAMiC,OAAO,GAAG7B,UAAU,CAACE,WAAD,CAA1B;EACA,MAAM4B,kBAAkB,GAAGjC,MAAM,EAAjC;EACA,MAAMkC,gBAAgB,GAAGlC,MAAM,EAA/B;EACA,MAAMmC,YAAY,GAAGnC,MAAM,EAA3B;EACA,MAAMoC,YAAY,GAAGpC,MAAM,EAA3B;EACA,MAAM,CAACqC,UAAD,EAAaC,aAAb,IAA8BrC,UAAU,CAACM,YAAD,EAAc;IAC1DI,eAAe,EAAC,EAD0C;IAE1DE,aAAa,EAAC,EAF4C;IAG1DC,SAAS,EAAC,EAHgD;IAI1DC,SAAS,EAAC;EAJgD,CAAd,CAA9C;;EAOA,MAAMwB,aAAa,GAAG,MAAMC,CAAN,IAAY;IAChCA,CAAC,CAACC,cAAF;IACAC,OAAO,CAACC,GAAR,CAAY,QAAZ;IACAD,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,IAAP,CAAY1B,GAAZ,EAAiB2B,MAA7B;IACAJ,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,IAAP,CAAY1B,GAAZ,CAAZ;;IAEA,IACE,CAACe,gBAAgB,CAACa,OAAjB,CAAyBnC,KAA1B,IACA,CAACuB,YAAY,CAACY,OAAb,CAAqBnC,KADtB,IAEA,CAACwB,YAAY,CAACW,OAAb,CAAqBnC,KAFtB,IAGA,CAACgC,MAAM,CAACC,IAAP,CAAY1B,GAAZ,EAAiB2B,MAHlB,IAIA,CAACd,OAAO,CAACgB,UALX,EAME;MACA,IAAG,CAAChB,OAAO,CAACgB,UAAZ,EAAuB;QACrBnB,aAAa,CAAC,IAAD,CAAb,CADqB,CAErB;MACD,CAHD,MAGK;QACHJ,WAAW,CAAC,IAAD,CAAX;QACAiB,OAAO,CAACC,GAAR,CAAY,OAAZ;MACD;IAEF,CAfD,MAeO;MACLD,OAAO,CAACC,GAAR,CAAY,WAAZ;MACApB,aAAa,CAAC;QACZ0B,QAAQ,EAAEf,gBAAgB,CAACa,OAAjB,CAAyBnC,KADvB;QAEZsC,IAAI,EAAEf,YAAY,CAACY,OAAb,CAAqBnC,KAFf;QAGZuC,IAAI,EAAEf,YAAY,CAACW,OAAb,CAAqBnC;MAHf,CAAD,CAAb;MAKA,MAAMwC,GAAG,GAAG,MAAMC,KAAK,CACpB,4DAA2DlC,GAAG,CAACmC,GAAI,IAAGnC,GAAG,CAACoC,GAAI,6DAD1D,CAErB;MAFqB,CAAvB;MAKA,IAAIC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAjB,CAZK,CAaL;;MACA,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CAAZ,CAdK,CAeH;;MACFnB,OAAO,CAACC,GAAR,CAAY,iBAAZ;MACAD,OAAO,CAACC,GAAR,CAAYT,gBAAgB,CAACa,OAAjB,CAAyBnC,KAAzB,GAA+B,GAA/B,GAAmCuB,YAAY,CAACY,OAAb,CAAqBnC,KAAxD,GAA8D,GAA9D,GAAmEO,GAAG,CAACmC,GAAvE,GAA2E,GAA3E,GAA+EnC,GAAG,CAACoC,GAAnF,GAAuF,GAAvF,GAA8F,GAA9F,GAAoGG,GAApG,GAA0G,GAA1G,GAA8GF,IAAI,CAACM,SAAL,CAAeC,aAA7H,GAA4I,GAA5I,GAAiJ3B,YAAY,CAACW,OAAb,CAAqBnC,KAAlL;MACAS,KAAK,CAAC2C,WAAN,CAAkB;QAClBf,QAAQ,EAAEf,gBAAgB,CAACa,OAAjB,CAAyBnC,KADjB;QAElBsC,IAAI,EAAEf,YAAY,CAACY,OAAb,CAAqBnC,KAFT;QAGlBO,GAAG,EAAEA,GAHa;QAIlBuC,GAAG,EAACA,GAJc;QAKlBO,QAAQ,EAACT,IAAI,CAACM,SAAL,CAAeC,aALN;QAMlB;QACAZ,IAAI,EAAEf,YAAY,CAACW,OAAb,CAAqBnC;MAPT,CAAlB;MAYA0B,aAAa,CAAC;QAAC5B,IAAI,EAAC;MAAN,CAAD,CAAb;MACAe,WAAW,CAAC,KAAD,CAAX;MACAM,YAAY,CAAC,KAAD,CAAZ;MACAJ,UAAU,CAAC,KAAD,CAAV;MACAN,KAAK,CAAC6C,OAAN,CAAc,KAAd,EAlCK,CAmCL;;MACAxB,OAAO,CAACC,GAAR,CAAY,aAAZ;IACD;;IACDD,OAAO,CAACC,GAAR,CAAY,SAAZ;EACD,CA5DD;;EA6DA,MAAMwB,sBAAsB,GAAI3B,CAAD,IAAK;IAClC;IACAF,aAAa,CAAC;MAAC5B,IAAI,EAAC,YAAN;MAAmBE,KAAK,EAAC4B,CAAC,CAAC4B,MAAF,CAASxD;IAAlC,CAAD,CAAb;EAED,CAJD;;EAMA,MAAMyD,oBAAoB,GAAI7B,CAAD,IAAK;IAChC;IACAF,aAAa,CAAC;MAAC5B,IAAI,EAAC,UAAN;MAAiBE,KAAK,EAAC4B,CAAC,CAAC4B,MAAF,CAASxD;IAAhC,CAAD,CAAb;EAED,CAJD;;EAKA,MAAM0D,gBAAgB,GAAI9B,CAAD,IAAM;IAC7B;IACAF,aAAa,CAAC;MAAC5B,IAAI,EAAC,MAAN;MAAaE,KAAK,EAAC4B,CAAC,CAAC4B,MAAF,CAASxD;IAA5B,CAAD,CAAb;IACA8B,OAAO,CAACC,GAAR,CAAY,kBAAZ;EACD,CAJD;;EAMA,MAAM4B,gBAAgB,GAAI/B,CAAD,IAAO;IAC9B;IACAF,aAAa,CAAC;MAAC5B,IAAI,EAAC,MAAN;MAAaE,KAAK,EAAC4B,CAAC,CAAC4B,MAAF,CAASxD;IAA5B,CAAD,CAAb;EACD,CAHD;;EAKA,MAAM4D,aAAa,GAAG,MAAM;IAC1BnD,KAAK,CAACoD,QAAN,CAAe;MACbxB,QAAQ,EAAEf,gBAAgB,CAACa,OAAjB,CAAyBnC,KADtB;MAEbsC,IAAI,EAAEf,YAAY,CAACY,OAAb,CAAqBnC,KAFd;MAGbO,GAAG,EAAEA,GAHQ;MAIb;MACAgC,IAAI,EAAEf,YAAY,CAACW,OAAb,CAAqBnC;IALd,CAAf;IAOA0B,aAAa,CAAC;MAAC5B,IAAI,EAAC;IAAN,CAAD,CAAb;IACAe,WAAW,CAAC,KAAD,CAAX;IACAM,YAAY,CAAC,KAAD,CAAZ;IACAJ,UAAU,CAAC,KAAD,CAAV;EAED,CAbD;;EAeA,MAAM+C,YAAY,GAAIC,KAAD,IAAS,CAC5B;EACD,CAFD;;EAIAzE,SAAS,CAAC,MAAM;IACd,IAAI0C,MAAM,CAACC,IAAP,CAAYxB,KAAK,CAACuD,IAAlB,EAAwB9B,MAAxB,GAAiC,CAArC,EAAwC;MACtC;MACAR,aAAa,CAAC;QAAC5B,IAAI,EAAC,KAAN;QAAYM,aAAa,EAACK,KAAK,CAACuD,IAAN,CAAW3B,QAArC;QAA+ChC,SAAS,EAACI,KAAK,CAACuD,IAAN,CAAWzB,IAApE;QAA0EjC,SAAS,EAACG,KAAK,CAACuD,IAAN,CAAW1B;MAA/F,CAAD,CAAb;MACA/B,GAAG,GAAGE,KAAK,CAACuD,IAAN,CAAWzD,GAAjB;MAEAE,KAAK,CAAC6C,OAAN,CAAc,MAAd;MACAxB,OAAO,CAACC,GAAR,CAAYtB,KAAK,CAACuD,IAAlB;MACAlC,OAAO,CAACC,GAAR,CAAY,MAAZ;MACAhB,UAAU,CAAC,IAAD,CAAV;MACAI,YAAY,CAAC,KAAD,CAAZ;IACD;EACF,CAZQ,EAYP,CAACV,KAAK,CAACuD,IAAP,CAZO,CAAT;EAcA1E,SAAS,CAAC,MAAK;IACbwC,OAAO,CAACC,GAAR,CAAY,WAAZ;IACAD,OAAO,CAACC,GAAR,CAAYtB,KAAK,CAACwD,SAAlB;IACA1D,GAAG,GAAGE,KAAK,CAACwD,SAAZ;IACAnC,OAAO,CAACC,GAAR,CAAY,WAAZ;IACAhB,UAAU,CAAC,KAAD,CAAV;IACAI,YAAY,CAAC,IAAD,CAAZ;EAED,CARQ,EAQP,CAACV,KAAK,CAACwD,SAAP,CARO,CAAT,CAzI2B,CAkJ3B;EACA;EACA;EACA;EACA;;EAEA,oBACE;IAAA,uBAEA;MAAK,SAAS,EAAEvE,OAAO,CAACwE,KAAxB;MAAA,wBACA;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,eAEE;QAAM,QAAQ,EAAEvC,aAAhB;QAAA,wBACA;UAAK,SAAS,EAAC;QAAf;UAAA;UAAA;UAAA;QAAA,QADA,eAiBE;UAAK,SAAS,EAAC,kBAAf;UAAA,wBACE;YAAM,SAAS,EAAC,kBAAhB;YAAmC,EAAE,EAAC,2BAAtC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAIE;YACE,IAAI,EAAC,MADP;YAEE,SAAS,EAAC,cAFZ;YAGE,EAAE,EAAC,UAHL;YAIE,cAAW,sBAJb;YAKE,oBAAiB,2BALnB;YAME,GAAG,EAAEL,gBANP;YAOE,QAAQ,EAAEmC,oBAPZ;YAQE,KAAK,EAAEhC,UAAU,CAACxB;UARpB;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QAjBF,eAgCE;UAAK,SAAS,EAAC,kBAAf;UAAA,wBACE;YAAM,SAAS,EAAC,kBAAhB;YAAmC,EAAE,EAAC,2BAAtC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAIE;YACE,IAAI,EAAC,MADP;YAEE,SAAS,EAAC,cAFZ;YAGE,cAAW,sBAHb;YAIE,oBAAiB,2BAJnB;YAKE,GAAG,EAAEsB,YALP;YAME,QAAQ,EAAEoC,gBANZ;YAOE,KAAK,EAAElC,UAAU,CAACvB;UAPpB;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QAhCF,eA8CE;UAAK,SAAS,EAAC,MAAf;UAAA,wBAEE;YAAO,GAAG,EAAC,MAAX;YAAkB,SAAS,EAAC,YAA5B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFF,eAKE;YACE,SAAS,EAAC,cADZ;YAEE,EAAE,EAAC,MAFL;YAGE,IAAI,EAAC,GAHP;YAIE,GAAG,EAAEsB,YAJP;YAKE,QAAQ,EAAEkC,gBALZ;YAME,KAAK,EAAEjC,UAAU,CAACtB;UANpB;YAAA;YAAA;YAAA;UAAA,QALF;QAAA;UAAA;UAAA;UAAA;QAAA,QA9CF,EA6DG,CAACW,YAAD,iBAAiB;UAAQ,SAAS,EAAC,cAAlB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QA7DpB,EA8DGA,YAAY,iBAAI;UAAQ,SAAS,EAAC,cAAlB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QA9DnB,EAgEIA,YAAY,iBACZ;UAAK,SAAS,EAAEpB,OAAO,CAACyE,SAAxB;UAAA,uBACC;YAAQ,SAAS,EAAC,cAAlB;YAAiC,IAAI,EAAC,QAAtC;YAA+C,OAAO,EAAEP,aAAxD;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADD;UAAA;UAAA;UAAA;QAAA,QAjEJ,EAqEGhD,QAAQ,iBAAI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QArEf;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,EA6EGF,UAAU,iBACT;QAAA,wBAEE;UAAA;UAAA;UAAA;QAAA,QAFF,EAGGA,UAAU,CAAC2B,QAHd,oBAGwB;UAAA;UAAA;UAAA;QAAA,QAHxB,EAIG3B,UAAU,CAAC4B,IAJd,oBAIoB;UAAA;UAAA;UAAA;QAAA,QAJpB,EAKG5B,UAAU,CAAC6B,IALd;MAAA;QAAA;QAAA;QAAA;MAAA,QA9EJ;IAAA;MAAA;MAAA;MAAA;IAAA;EAFA,iBADF;AA4FD,CApPD;;GAAM/B,S;;KAAAA,S;AAsPN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}